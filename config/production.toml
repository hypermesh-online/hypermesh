# Internet 2.0 Protocol Stack Configuration (Production)

[global]
bind_address = "::"
port = 443
server_id = "internet2-production-001"
max_connections = 100000
ipv6_only = true
log_level = "info"
metrics_interval = { secs = 60, nanos = 0 }

[stoq.performance]
target_throughput_gbps = 40.0
enable_zero_copy = true
enable_hardware_acceleration = true
connection_pool_size = 1000
memory_pool_size = 2048
frame_batch_size = 64
enable_cpu_affinity = true
enable_large_send_offload = true

[stoq.quic]
max_concurrent_streams = 1000
send_buffer_size = 16777216  # 16MB
receive_buffer_size = 16777216  # 16MB
connection_timeout = { secs = 5, nanos = 0 }
idle_timeout = { secs = 120, nanos = 0 }
enable_0rtt = true
enable_migration = true
congestion_control = "bbr2"
max_datagram_size = 65507

[stoq.certificates]
validate_at_connection = true
validation_timeout = { secs = 10, nanos = 0 }
enable_caching = true
cache_size = 10000
cache_ttl = { secs = 3600, nanos = 0 }

[stoq.dns]
use_embedded_resolver = true
query_timeout = { secs = 5, nanos = 0 }
enable_caching = true
cache_size = 10000
cache_ttl = { secs = 300, nanos = 0 }

[hypermesh.consensus]
mandatory_four_proof = true
validation_timeout = { secs = 0, nanos = 100000000 }  # 100ms
min_stake_requirement = 1000
pow_difficulty = 4
enable_byzantine_detection = true
max_consensus_participants = 100

[hypermesh.assets]
max_assets_per_node = 10000
allocation_timeout = { secs = 30, nanos = 0 }
enable_pooling = true
pool_size = 1000
cleanup_interval = { secs = 300, nanos = 0 }
default_resource_capacity = 1000.0
require_consensus_for_allocation = true

[hypermesh.vm]
enable_vm_execution = true
max_vms_per_node = 100
execution_timeout = { secs = 3600, nanos = 0 }
memory_limit_mb = 8192
cpu_limit_cores = 16
enable_snapshots = true

[hypermesh.proxy]
enable_nat_addressing = true
connection_timeout = { secs = 30, nanos = 0 }
max_proxy_connections = 10000
enable_trust_validation = true
enable_performance_monitoring = true

[trustchain.ca]
ca_mode = "embedded"
certificate_validity_days = 90
rotation_interval = { secs = 86400, nanos = 0 }  # 24 hours
enable_auto_rotation = true
max_chain_depth = 5

[trustchain.dns]
dns_mode = "embedded"
dns_port = 53
query_timeout = { secs = 5, nanos = 0 }
enable_caching = true
cache_ttl = { secs = 300, nanos = 0 }
max_cache_size = 10000

[trustchain.ct]
enable_ct_logging = true
submission_timeout = { secs = 30, nanos = 0 }
enable_verification = true
max_log_entries = 1000000

[trustchain.pqc]
enable_pqc = true
enable_falcon = true
enable_kyber = true
enable_hybrid = true
security_level = 128

[integration]
enable_cross_layer_optimization = true
validation_timeout = { secs = 30, nanos = 0 }
coordination_interval = { secs = 60, nanos = 0 }
enable_layer_monitoring = true

[deployment]
mode = "production"
production_security = true
consensus_mandatory = true
legacy_compatibility = false
federated_bootstrap = true