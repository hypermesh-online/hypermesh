# Local Development Configuration for Web3 Ecosystem
# Generated by local-dns-setup.sh on Fri Sep 19 04:25:56 PM CDT 2025

[global]
bind_address = "::"
port = 8443
server_id = "hypermesh-local-dev"
max_connections = 1000
ipv6_only = false  # Allow IPv4 for local testing
log_level = "debug"
metrics_interval = { secs = 30, nanos = 0 }

[stoq.performance]
target_throughput_gbps = 1.0  # Reduced for local testing
enable_zero_copy = false
enable_hardware_acceleration = false
connection_pool_size = 100
memory_pool_size = 256
frame_batch_size = 8
enable_cpu_affinity = false
enable_large_send_offload = false

[stoq.quic]
max_concurrent_streams = 100
send_buffer_size = 1048576  # 1MB
receive_buffer_size = 1048576  # 1MB
connection_timeout = { secs = 10, nanos = 0 }
idle_timeout = { secs = 60, nanos = 0 }
enable_0rtt = true
enable_migration = false
congestion_control = "cubic"
max_datagram_size = 1500

[stoq.certificates]
validate_at_connection = true
validation_timeout = { secs = 30, nanos = 0 }
enable_caching = true
cache_size = 1000
cache_ttl = { secs = 3600, nanos = 0 }
# Local certificate paths
cert_file = "certificates/hypermesh-server.crt"
key_file = "certificates/hypermesh-server.key"
ca_file = "certificates/hypermesh-ca.crt"

[stoq.dns]
use_embedded_resolver = false  # Use system DNS for local testing
query_timeout = { secs = 10, nanos = 0 }
enable_caching = true
cache_size = 1000
cache_ttl = { secs = 300, nanos = 0 }

[hypermesh.consensus]
mandatory_four_proof = false  # Relaxed for local testing
validation_timeout = { secs = 1, nanos = 0 }
min_stake_requirement = 1
pow_difficulty = 1
enable_byzantine_detection = false
max_consensus_participants = 10

[hypermesh.assets]
max_assets_per_node = 1000
allocation_timeout = { secs = 30, nanos = 0 }
enable_pooling = true
pool_size = 100
cleanup_interval = { secs = 60, nanos = 0 }
default_resource_capacity = 100.0
require_consensus_for_allocation = false

[hypermesh.vm]
enable_vm_execution = true
max_vms_per_node = 10
execution_timeout = { secs = 300, nanos = 0 }
memory_limit_mb = 1024
cpu_limit_cores = 2
enable_snapshots = false

[hypermesh.proxy]
enable_nat_addressing = true
connection_timeout = { secs = 30, nanos = 0 }
max_proxy_connections = 1000
enable_trust_validation = false
enable_performance_monitoring = true

[trustchain.ca]
ca_mode = "local"  # Local mode for testing
certificate_validity_days = 30
rotation_interval = { secs = 86400, nanos = 0 }
enable_auto_rotation = false
max_chain_depth = 3

[trustchain.dns]
dns_mode = "hybrid"  # Use system DNS + local resolution
dns_port = 5353  # Non-privileged port
query_timeout = { secs = 10, nanos = 0 }
enable_caching = true
cache_ttl = { secs = 300, nanos = 0 }
max_cache_size = 1000

[trustchain.ct]
enable_ct_logging = false  # Disabled for local testing
submission_timeout = { secs = 30, nanos = 0 }
enable_verification = false
max_log_entries = 10000

[trustchain.pqc]
enable_pqc = false  # Simplified for local testing
enable_falcon = false
enable_kyber = false
enable_hybrid = false
security_level = 128

[integration]
enable_cross_layer_optimization = false
validation_timeout = { secs = 30, nanos = 0 }
coordination_interval = { secs = 60, nanos = 0 }
enable_layer_monitoring = true

[deployment]
mode = "development"
production_security = false
consensus_mandatory = false
legacy_compatibility = true
federated_bootstrap = false

# Local domain mappings
[domains]
trust = "trust.hypermesh.online:8443"
caesar = "caesar.hypermesh.online:8443"
catalog = "catalog.hypermesh.online:8443"
stoq = "stoq.hypermesh.online:8443"
ngauge = "ngauge.hypermesh.online:8443"
main = "hypermesh.online:8443"
