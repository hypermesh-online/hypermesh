# Dnsmasq configuration for HyperMesh local DNS
# This configuration provides local DNS resolution for *.hypermesh.online domains

# Basic configuration
port=53
domain-needed
bogus-priv
no-resolv
no-poll

# Upstream DNS servers
server=8.8.8.8
server=8.8.4.4
server=1.1.1.1
server=1.0.0.1

# Enable logging
log-queries
log-facility=-

# Cache configuration
cache-size=1000
neg-ttl=60

# Local domain mappings for HyperMesh ecosystem
# All *.hypermesh.online domains point to Internet 2.0 server

# Primary domains
address=/hypermesh.online/127.0.0.1
address=/hypermesh.online/::1

# Service-specific domains
address=/trust.hypermesh.online/127.0.0.1
address=/trust.hypermesh.online/::1

address=/caesar.hypermesh.online/127.0.0.1
address=/caesar.hypermesh.online/::1

address=/catalog.hypermesh.online/127.0.0.1
address=/catalog.hypermesh.online/::1

address=/stoq.hypermesh.online/127.0.0.1
address=/stoq.hypermesh.online/::1

address=/ngauge.hypermesh.online/127.0.0.1
address=/ngauge.hypermesh.online/::1

# Wildcard for any subdomain
address=/.hypermesh.online/127.0.0.1
address=/.hypermesh.online/::1

# Development domains
address=/dev.hypermesh.online/127.0.0.1
address=/dev.hypermesh.online/::1

address=/test.hypermesh.online/127.0.0.1
address=/test.hypermesh.online/::1

address=/api.hypermesh.online/127.0.0.1
address=/api.hypermesh.online/::1

# DHCP disabled (we're only doing DNS)
no-dhcp-interface=

# Interface binding
interface=lo
bind-interfaces

# Enable IPv6
enable-ra

# Expand hosts
expand-hosts
domain=hypermesh.local

# Local hosts
addn-hosts=/etc/hosts

# Security
stop-dns-rebind
rebind-localhost-ok

# Performance
dns-forward-max=1000
cache-size=10000